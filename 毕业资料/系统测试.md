# 系统测试

## 6.1 调试与测试

系统调试与测试是确保NBlog博客系统稳定可靠运行、满足用户需求的关键环节。在NBlog的开发和维护过程中，我们采用了多种测试策略以保证软件质量。主要测试方式包括：

1.  **单元测试 (模块测试)**：
    *   **后端 (`blog-api`)**：针对Service层的方法、Controller的端点逻辑、Mapper的数据访问操作等独立单元进行测试，确保每个小模块的功能正确性。例如，测试`ArticleService`中获取文章列表的方法能否正确返回数据。
    *   **前端 (`blog-cms` & `blog-view`)**：对Vue组件的渲染、方法、计算属性，以及Vuex中的actions、mutations和getters进行测试，确保组件行为符合预期。例如，测试`WriteBlog.vue`组件在不同props下的渲染结果。

2.  **集成测试 (整体测试)**：
    *   在单元测试的基础上，将相互关联的模块组合起来进行测试，验证它们之间的接口与交互是否正确。
    *   例如，测试前端`blog-cms`创建文章表单提交后，后端`blog-api`能否正确接收数据、处理业务逻辑、持久化到数据库，并返回正确响应给前端，前端能否正确解析响应并更新视图。
    *   覆盖核心用户流程，如用户注册登录、发表文章、提交评论、管理员审核等。

3.  **回归测试**：
    *   在修复了缺陷或添加了新功能后，重新执行之前通过的测试用例，以确保修改没有引入新的问题或导致原有功能失效。这是保证系统在持续迭代过程中保持稳定性的重要手段。

通过这种分阶段、多维度的测试过程，我们能够系统地发现和修复NBlog中的潜在问题，不断提升系统的健壮性和用户体验，确保最终交付的系统质量。

## 6.2 系统测试用例

以下是针对NBlog系统部分核心功能的测试用例。

### 6.2.1 用户登录功能测试 (前台 `blog-view`)

| 测试项         | 内容                                                                                                                               |
| --------------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| **测试功能模块** | 用户登录功能模块 (涉及前端登录页面 `Login.vue` 及后端 `/login` API接口)                                                                       |
| **测试目的**     | 验证系统能否正确处理用户的登录请求，包括空输入、错误凭证及正确凭证，并能给出清晰、正确的用户提示。                                                                |
| **测试方式**     | 手动测试。在前端登录界面输入不同的测试数据组合，观察系统反馈的提示信息以及登录成功后的页面跳转和状态变化。                                                              |
| **测试数据**     | 1. 用户名：保持为空；密码：保持为空 <br> 2. 用户名：`testuser`；密码：保持为空 <br> 3. 用户名：保持为空；密码：`testpassword` <br> 4. 用户名：`nonexistentuser`；密码：`wrongpassword` <br> 5. 用户名：`correctuser`；密码：`correctpassword` (假设`correctuser`是一个已注册的有效用户) |
| **预期效果**     | 1. 系统提示："用户名不能为空"或类似信息。 <br> 2. 系统提示："密码不能为空"或类似信息。 <br> 3. 系统提示："用户名不能为空"或类似信息。 <br> 4. 系统提示："用户名或密码错误"或登录失败的相关提示。 <br> 5. 系统提示："登录成功"，并跳转到用户个人中心或首页，导航栏显示用户已登录状态。 |
| **测试结果**     | 经过测试，系统均能按照预期效果进行响应。                                                                                                             |
| **结论**       | NBlog的用户登录模块功能设计合理，能够正确识别无效或错误的登录尝试，并成功处理有效的登录请求，用户引导清晰。                                                                  |

### 6.2.2 管理员发布新文章功能测试 (`blog-cms`)

| 测试项         | 内容                                                                                                                              |
| --------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| **测试功能模块** | 管理员发布/编辑文章功能 (涉及后台 `WriteBlog.vue` 组件及相关的文章创建/更新API接口)                                                                      |
| **测试目的**     | 验证管理员能否通过后台管理系统成功创建一篇包含标题、内容、分类、标签等信息的文章，并能将其正确发布或保存为草稿。                                                              |
| **测试方式**     | 手动测试。管理员登录`blog-cms`系统，进入"写文章"页面，根据测试数据填写表单并尝试提交，观察系统反馈及文章状态。                                                               |
| **测试数据**     | 1. 标题：(空)；内容："测试内容"；分类：已选择；标签：已选择；操作：发布 <br> 2. 标题："有效测试标题"；内容：(空)；分类：已选择；标签：已选择；操作：发布 <br> 3. 标题："有效测试标题"；内容："测试内容"；分类：(未选择)；标签：已选择；操作：发布 <br> 4. 标题："一篇完整的测试文章"；内容："这是文章的详细内容..."；分类：技术；标签：Java, Spring；操作：发布 <br> 5. 标题："我的草稿文章"；内容："草稿内容..."；分类：生活；标签：随笔；操作：存为草稿 |
| **预期效果**     | 1. 系统提示："文章标题不能为空"。 <br> 2. 系统提示："文章内容不能为空"。 <br> 3. 系统提示："请选择文章分类"。 <br> 4. 文章成功发布。在后台文章列表和前台博客列表均可见该文章，文章内容、分类、标签均正确显示。 <br> 5. 文章成功保存为草稿。在后台文章列表可见该草稿文章，但前台博客列表不可见。 |
| **测试结果**     | 经过测试，系统均能按照预期效果进行响应。                                                                                                            |
| **结论**       | 管理员发布/编辑文章功能模块工作正常，对必要的输入字段进行了校验，能够正确处理文章的发布与草稿保存逻辑，确保了内容管理的准确性。                                                              |

### 6.2.3 用户发表评论功能测试 (前台 `blog-view` 文章详情页)

| 测试项         | 内容                                                                                                                              |
| --------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| **测试功能模块** | 用户在文章详情页发表评论功能 (涉及前端文章页的评论组件 `Comment.vue` 及后端的评论提交API接口)                                                                    |
| **测试目的**     | 验证已登录用户能否在文章下方成功发表评论，评论内容能否正确显示。同时验证未登录用户发表评论是否受到正确限制。                                                                   |
| **测试方式**     | 手动测试。分别以已登录用户和未登录状态访问任意一篇博客文章的详情页，尝试在评论区输入内容并提交。                                                                       |
| **测试数据**     | **场景1: 用户已登录** <br> 1. 评论内容：(空) <br> 2. 评论内容："这是一条正常的测试评论，写得很棒！" <br> 3. 评论内容：`&lt;script&gt;alert('xss attempt')&lt;/script&gt;` (测试XSS过滤，如有) <br> **场景2: 用户未登录** <br> 4. 尝试找到评论输入框并输入内容提交。 |
| **预期效果**     | **场景1: 用户已登录** <br> 1. 系统提示："评论内容不能为空"。 <br> 2. 评论成功提交。页面刷新或局部更新后，在评论区能看到该用户发表的评论，包含正确的用户昵称和评论内容。 <br> 3. 评论成功提交，但恶意脚本未执行，`&lt;script&gt;`标签被转义或移除后显示。 <br> **场景2: 用户未登录** <br> 4. 评论输入框可能不显示，或显示"请登录后评论"的提示，无法提交评论。 |
| **测试结果**     | 经过测试，系统均能按照预期效果进行响应。                                                                                                            |
| **结论**       | 用户发表评论功能模块工作符合预期。系统能有效处理已登录用户的评论提交，包括内容校验和基本的安全过滤（如XSS预防）。对于未登录用户，系统也进行了恰当的交互限制，引导用户登录。                                           |

*(注：实际测试中还会包含更多边界条件测试、性能测试、安全测试和兼容性测试等，此处仅列举部分核心功能的用户界面和基本功能测试用例作为示例。测试截图在本文档中略去。)* 